
[[overview]]
= Les contours de SysML (introduction à SysML)

//-----------------------------------------------
ifndef::final[]
.Commentaire
[CAUTION]
====
*****
Introduire ici la méthodologie simplifiée adoptée pour le livre.
Au travers de cette présentation, on introduira également les différents diagrammes de SysML.
*****
====
//-----------------------------------------------
endif::final[]

Pour être plus pratique, si vous ne devez lire qu'un seul chapitre, c'est celui-ci.
L'objectif de ce chapitre est de présenter l'ensemble des diagrammes {SysML} et à
quelles questions ils peuvent permettre de répondre par rapport à des problématique d'{IS}.

[[notation]]
== Pourquoi une nouvelle notation (par rapport à UML)
//---------------------------------------------------------------------

[quote, Bertrand Russell, The World of Mathematics (1956)]
____________________________________________________________________
A good notation has subtlety and suggestiveness which at times makes
it almost seem like a live teacher.
____________________________________________________________________

Il existe une notation qui se veut "unifiée" pour les modèles : {uml}.
Néanmoins cette notation est peu adaptée pour l'{is} :

ifdef::slides[]
* UML 1.x était complètement inadaptée :
** Principalement pour les systèmes d'information
** Peu de liens entre les diagrammes
** Peu de liens entre les modèles et les exigences
* UML 2.x n'est pas beaucoup mieux si ce n'est :
** Implication des ingénieurs systèmes pour sa définition
** Introduction du diagramme de structure composite
endif::slides[]


{UML} est une bonne base :

* Standard _De facto_ en génie logiciel
* Fournit beaucoup de concepts utiles pour décrire des systèmes (même complexes)
* Stable et extensible (grâce notamment au mécanisme de _profile_)
* Beaucoup d'outils disponibles

Mais...

* Manque de certains concepts clés d'{is}
* Vocabulaire beaucoup trop « software » pour être utilisé par les ingénieurs systèmes
(concept de `classe` ou d' `héritage` par exemple)
* Trop de diagrammes (14 sortes!)

== Introduction à SysML
//---------------------------------------------------------------------------------

=== Fiche d'identité

Voici à quoi pourrait ressembler la fiche d'identité de {sysml} :

include::fiche.txt[]

=== Qui est "derrière"?

Les évolutions de {sysml} sont pilotées par deux consortiums : l'{omg} d'une part pour les liens avec {UML} et l'{incose} d'autre part pour les liens avec l'ingénierie système.

Il est intéressant de rappeler que {sysml} est un standard qui vient des utilisateurs,
qui participent à sa définition et à ses évolutions.
Voici une liste non exhaustive des entreprises et des acteurs qui participent à son évolution :

Industrie::
American Systems, BAE Systems, Boeing, CEA, Deere & Company, EADS Astrium, Eurostep, Israel Aircraft Industries,  Lockheed Martin, Motorola, NIST, Northrop Grumman, oose.de, Raytheon, Thales, ...

Vendeurs d'outils::
Artisan, EmbeddedPlus, Gentleware, IBM, Mentor Graphics, PivotPoint Technology, Sparx Systems, Vitech, ...

Autres organisations::
AP-233, Georgia Institute of Technology, AFIS, ...

[TIP]
====
La liste complète des membres de l'{omg} est accessible à l'URL : http://www.omg.org/cgi-bin/apps/membersearch.pl
====

=== SysML, c'est...

{sysml} est un ensemble de 9 types de diagrammes (cf. <<diags>>)::
* Diagrammes structuraux
** Diagrammes de définition de blocs (`{bdd}`)
** Diagrammes internes de blocs (`{ibd}`)
** Diagrammes paramétriques (`{par}`)
** Diagrammes de packages (`{pkg}`)
* Diagrammes comportementaux
** Diagrammes de séquences (`{seq}`)
** Diagrammes d'activité (`{act}`)
** Diagrammes de cas d'utilisation (`{uc}`)
** Diagrammes d'états (`{stm}`)
* Diagramme des exigences (`{req}`)
{sysml} est un profil {uml}::
	C'est à dire une *extension* de cette notation, un ensemble de nouveaux concepts et éléments qui sont définis à partir des éléments de base d'{uml}. Un exemple : le `bloc` {sysml} n'est qu'une redéfinition de la `classe` {uml}.
{sysml} est une notation::
 	Une notation de plus en plus enseignée et connue et qui servira donc de plus en plus de *référence* dans la modélisation des systèmes.

=== SysML, ce n'est pas...

Nous l'avons déjà évoqué, mais il convient d'insister, {sysml} n'est pas :

Une méthode::
	 	En effet, contrairement à ce que beaucoup pensent en l'abordant, {sysml} ne propose pas de démarche particulière de développement de système. C'est à la fois sa force (votre méthode existante pourra continuer à être utilisée) comme sa faiblesse car cette absence de guide méthodologique fait souvent défaut à son utilisation.
Un outil::
		Nous verrons en effet que {sysml} ne fait que ce qu'on veut bien en faire. Comme tout langage il est limité dans son pouvoir d'expression, mais surtout il reste une simple notation qu'il convient d'utiliser avec des outils et des démarches associées.

[NOTE]
====
Ne dites pas "le SysML" mais tout simplement "SysML".
====

=== Différence avec UML

La <<liensdiag>>, tirée de la <<SysML,documentation officielle>>, résume bien les liens entre {sysml} et {uml}, à savoir que {sysml} reprend une partie seulement des concepts d'{uml} (appelée `UML4SysML`) en y ajoutant des concepts nouveaux.

[[liensdiag]]
.Liens entre UML et SysML (tiré de <<SysML,SysML 1.5, p. 9>>)
image::diff.png[SysML and UML,width=50%,scaledwidth=50%]

{sysml} et {uml} sont parfois utilisés de manière complémentaire, mais la plupart du temps, {uml} est utilisé pour modéliser les aspects logiciels et {sysml} pour modéliser les systèmes.


//---------------------------------------------------------------------------------
[[Outils]]
=== 	Outils SysML
//---------------------------------------------------------------------------------

Il va de soit que le meilleur outil {sysml} à ce jour est {papyrus}footnote:[La partialité des auteurs peut être questionnée, mais d'un point de vue complétude et respect de la norme, cette affirmation est régulièrement admise par la communauté.].
Ce livre vous détaille l'utilisation, mais il existe un certain nombre d'autres outils
permettant de réaliser des modèles {SysML}.
En voici une liste non exhaustive :

include::outils.txt[]

//Vous trouverez sur Internet des comparatifs et des avis à jour sur les outils.

=== Organisation des différents diagrammes

Les ingénieurs systèmes ont l'habitude d'utiliser des représentations graphiques (plans, graphes, ...).
{sysml} propose de couvrir la modélisation d'un système au travers de 9 diagrammes.
Ces diagrammes couvrent	les aspects structurels et comportementaux du système ainsi que les exigences.
La <<diags>> présente cette organisation en faisant, en même temps, le lien avec ceux d'{uml} :

[[diags]]
.Les 9 diagrammes SysML et leur lien (historique) avec UML
image::Figure4-1.png[9 diagrammes,width=90%,scaledwidth=90%]

Le nom de ces diagrammes revenant souvent dans ce document, nous utiliserons souvent leur version abrégée
(`{uc}` pour "diagramme des UC" par exemple). Ces abréviations, sont définies dans la spécification (cf. note suivante).

.Version abrégée des diagrammes
image::Figure4-1-bis.png[Version abrégée,width=90%,scaledwidth=90%]

.Définition : Types de diagrammes (OMG SysML v1.5, p. 196)
[NOTE,icon=sysml.jpeg]
====
_SysML diagram kinds should have the following names or (abbreviations) as part of the heading..._
====

//---------------------------------------------------------------------------------
[[cadre]]
=== Cadre pour les diagrammes
//---------------------------------------------------------------------------------

Abordons quelques principes généraux de {sysml}, c'est à dire des éléments indépendants d'un diagramme en particulier :

- chaque diagramme {SysML} décrit un élément précis (nommé) de modélisation,
- chaque diagramme {SysML} doit être représenté à l'intérieur d'un cadre (_Diagram Frame_),
- l'entête de ce cadre, appelé aussi *cartouche*, indique les informations sur le diagramme :
* le *type* de diagramme (`{req}`, `{act}`, `{bdd}`, `{ibd}`, `{stm}`, etc. en gras) qui donne immédiatement une indication sur le point de vue porté à l'élément de modélisation (comportement, structure, etc.)
* le type de l'élément (par exemple _package_, _block_, _activity_, etc.), optionnel
* le nom de l'élément modélisé (unique)
* le nom du diagramme ou de la vue, optionnel.

Dans l'exemple ci-dessous, le diagramme "_Context_Overview_" est un _Block Definition Diagram_ (type `{bdd}`)
qui représente un _package_, nommé "Context".

.Exemple de diagramme SysML (source <<Kordon>>)
image::pacemaker-context.png[width="80%",scaledwidth="80%"]

TIP: Un cadre peut contenir dans ses "bords" des éléments importants en fonction
du type de modèle qui est représenté dans le cadre (ports d'un bloc, points d'entrée/sortie
d'une machine à état, paramètres d'une activité, etc.).

=== Notre présentation des diagrammes

Comme nous l'avons vu précédemment les 2 grandes catégories de diagrammes
{sysml} sont les diagrammes structuraux et les diagrammes comportementaux.
Mis à part les 2 diagrammes <<reqs, des exigences>> (`{req}`, représentation visuelle des exigences) et <<package, de _packages_>> (`{pkg}`, représentation visuelle des _packages_), les autres diagrammes
nécessitent de préciser l'utilisation que nous préconisons d'en faire.

Pour les diagrammes structuraux (statiques), quand il s'agira de représenter les architectures,
nous utiliserons les <<bddsec,diagrammes de définition de blocs>> (`{bdd}`), et pour représenter l'intérieur d'un système,
nous utiliserons le <<ibd,diagramme de blocs internes>> (`{ibd}`).
Le <<param,diagramme paramétrique>> (`{par}`) n'est qu'un diagramme de blocs internes dédié aux relations entre valeurs
(pour représenter des lois physiques par exemple).

Pour les diagrammes comportementaux (dynamiques), nous utilisons la distinction entre comportement
global et local, comme indiqué dans la  <<comportements>>.
Ainsi les diagrammes <<usecase,des cas d'utilisation>> (`{uc}`) et <<seq,de séquences>> (`{sd}`)
seront plutôt utilisés pour représenter le comprtement global tel qu'attendu par les parties prenantes
du système.
Tandis que les <<act,diagrammes d'activité>> (`{act}`) et les <<stm,diagrammes d'état>> (`{stm}`) seront plutôt
utilisés en phase de conception.

[[comportements]]
.Différents diagrammes pour repésenter le comportement
image::behavior.png[width="80%",scaledwidth="80%"]

Pour ceux qui cherchent à étudier un diagramme en particulier voici un plan de
cette section (nous utilisons ici le "plan" vu lors de l'introduction de la <<Matrice>>) :

.Organisation
ifdef::backend-pdf[[cols="h,4*",options="header"]]
ifndef::backend-pdf[[cols="h,4*",options="header",width="90%"]]
|======================
|				| {Requirements} 	| {Structure}	| {Behavior} 	| {Crosscutting}
| {organisation}	|		{pkg}			|     {pkg}, {bdd}, {ibd}   		|		{pkg}		|
| {analysis}, {design}, {implementation} footnote:[En fonction du niveau de détail.]
				|		{req}, {uc}, {seq}		|     {bdd}, {ibd}, {par}   		| {uc}, {seq}, {stm}, {act}				| {par}, {pkg}
|======================


//== Introduction à la démarche

== Diagramme et table des exigences
// Sebastien
//---------------------------------------------------------------------------------

La gestion des exigences est une activité cruciale pour la réussite de la conception et le développement de tout système.
Dans {sysml} les exigences peuvent être représentées sous deux formes complémentaires :

- Diagramme des exigences ({req} ), utile pour représenter les relations entre exigences
- Table des exigences, utile dès qu'il y a un grand nombre d'exigences

=== Diagramme des exigences

Ce diagramme permet de représenter graphiquement les exigences et leurs relations.
Il sera vu plus en détail dans la section <<reqs>>, mais en voici un exemple appliqué à la {mib} : une exigence (`Security`) est complsée de plusieurs sous-exigences.

.Exemple de diagramme des exigences
image::{papyrusversion}/lierExigences.png[width="70%",scaledwidth=70%]

=== Table des exigences
//- Import d'exigences => dans la section détaillée correspondante

Il est souvent plus pratique de lister les exigences sous forme de table.

.Exemple de table des exigences pour le {projectName}
image::{papyrusversion}/table.png[width=70%,scaledwidth=70%]

== Diagramme des cas d'utilisation

.Exemple de diagramme de cas d'utilisation
image::{diagrams}/SHS_Use_Cases_Description.PNG[width=70%,scaledwidth=70%]

== Diagramme de blocs

.Exemple de diagramme de blocs
image::todo.jpg[]

.Diagramme de contexte
[NOTE]
=====
Un diagramme de blocs un peu particulier consiste à représenter le système dans son environnement.
Ce "diagramme de contexte" est pratique d'un point de vue modélisation car le système et les autres éléments en interaction avec lui, sont très tôt identifiés et "référençables" (des `connectableElement` en termes {sysml}).

.Exemple de diagramme de contexte
image::{diagrams}/Context_Diagram.PNG[width=70%,scaledwidth=70%]

=====

== IBD

.Diagramme de contexte
[NOTE]
=====
// Sebastien
Nous avons parlé du diagramme de contexte dans la section précédente sur le diagramme de bloc.
Une autre façon de représenter le système dans son environnement est d'utiliser le diagramme de bloc interne :

.Exemple de diagramme de contexte (vue interne)
image::{diagrams}/Context_description_of_the_SHS.PNG[width=70%,scaledwidth=70%]

=====

TIP: Nous recommandons fortement de ne faire l'{ibd} d'un bloc qu'après avoir fait le {bdd} de ce bloc.
En effet les _parts_ et autres associations avec les éléments internes et externes de se bloc seront ainsi déjà définis.

== Diagrammes de séquences (sd)
// JMB
//---------------------------------------------------------------------------------
//Participants, acteurs, ligne de vie, etc.

Le diagramme de séquences est un diagramme populaire pour représenter les
participants et leurs interactions.

Il est souvent intéressant de procéder par étapes, en définissant un premier
diagramme représentant les interactions entre le système (vue comme une boîte
noire) et les différents acteurs impliqués dans ces interactions.
Dans ce diagramme, appelé diagramme de séquences système (<<dss,DSS>>), le seul
participant (en dehors des acteurs) est le système lui-même.

Il est ensuite possible de représenter le même cas d'utilisation, mais en
considérant cette fois-ci le système comme une "boîte blanche", c'est à dire
en précisant les différents participants impliqués par ce cas.

[[dss]]
=== Diagrammes de séquences système

Les diagrammes de séquences système (DSS) sont des _Sequence Diagrams_ {uml}
classiques où seul le système est représenté comme une boîte noire en
interaction avec son environnement (les utilisateurs ou les périphériques généralement).

Il permet de décrire les scénarios des cas d'utilisation sans entrer dans les détails.
Il convient donc mieux à l'ingénierie système qu'un diagramme de séquences
classique.


.Exemples de DSS
image::dss.png[width="50%",scaledwidth="40%"]

[red]*xxx à vérifier xxx*

=== Diagramme de séquences

Le diagramme de séquences permet de représenter les différents participants
(dont la ligne de vie représente une chronologie des événements) et les échanges
de messages entre eux.

.Exemple de diagramme de séquences
image::todo.jpg[]

Pour plus de détails, cf. <<seq>>.

== Diagramme d'états
// Sebastien
//---------------------------------------------------------------------------------

== Diagramme d'activité
// Sebastien
//---------------------------------------------------------------------------------

== Diagramme paramétrique
// Sebastien
//---------------------------------------------------------------------------------

== Diagramme de packages
//---------------------------------------------------------------------------------

Ce type de diagramme permet d'organiser les éléments de modèle.
Un _package_ peut contenir d'autres _package_, des blocs, des diagrammes, etc.

NOTE: Un _package_ n'est pas un composant mais une unité d'organisation du modèle.
Un _package_ constitue un espace de nommage (_namespace_) pour les éléments
qu'il contient.

== Allocation, traçabilité et autres points de cohérences
//---------------------------------------------------------------------------------

== {resume}

== {revisions}

[qanda]
Associez les diagrammes suivants avec leurs acronymes (`{sd}`, `{dc}`, `{uc}`, `{pkg}`, `{dss}`)::
- Diagramme de paquetages
- Diagramme des cas d'utilisation
- Diagramme de séquences système
- Diagramme de classes
- Diagramme de séquences

Placez dans la matrice ci-dessous les différents diagrammes {sysml} vus dans ce chapitre::
include::matrice-base.asc[]

ifdef::correction[]

.Éléments de correction
[CAUTION]
====

image::acronymes-cor.png[width=70%,scaledwidth=70%]

[align="center",cols="h,3*^,1",options="header",width=100]
|======================
|					| {Requirements} 	| {Structure}	| {Behavior} | ...
| {organisation}	|					|        `{pkg}`	| |
| {analysis}		|		`{uc}`		|       `{dc}`	|	`{dss}` |
| {design}			|					|       `{dc}`	|	`{sd}` |
| ... | | | |
|======================

====

endif::correction[]
